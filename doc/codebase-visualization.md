# Visualisation de la Codebase

## Introduction

Ce document fournit une visualisation graphique de la structure de la codebase du projet SaaS multi-tenant pour
l'assurance. Il complète le document d'indexation principal (`codebase-index.md`) en offrant une représentation visuelle
des modules et de leurs relations.

## Architecture Globale

```
+---------------------+
|                     |
|  SaasApplication    |
|                     |
+----------+----------+
           |
           v
+----------+----------+     +---------------------+     +---------------------+
|                     |     |                     |     |                     |
|  Module Common      +---->+  Module Core        +---->+  Module Insurance   |
|                     |     |                     |     |                     |
+---------------------+     +----------+----------+     +---------------------+
                                       |
                                       v
                             +----------+----------+
                             |                     |
                             |  Resources          |
                             |                     |
                             +---------------------+
```

## Détail du Module Common

```
+---------------------+
|                     |
|  Module Common      |
|                     |
+----------+----------+
           |
           v
+----------+----------+
|                     |
|  Abstractions       |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Annotations        |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  API                |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Aspects            |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Configuration      |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Domaine            |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Filtres            |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Infrastructure     |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Services           |
|                     |
+---------------------+
           |
           v
+----------+----------+
|                     |
|  Utilitaires        |
|                     |
+---------------------+
```

## Détail du Module Core

```
+---------------------+
|                     |
|  Module Core        |
|                     |
+----------+----------+
           |
           +------------------------+------------------------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  Audit              |   |  Organisation       |   |  Sécurité           |
|                     |   |                     |   |                     |
+----------+----------+   +----------+----------+   +----------+----------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  API                |   |  API                |   |  API                |
|                     |   |                     |   |                     |
+---------------------+   +---------------------+   +---------------------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  Application        |   |  Application        |   |  Application        |
|                     |   |                     |   |                     |
+---------------------+   +---------------------+   +---------------------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  Domaine            |   |  Domaine            |   |  Domaine            |
|                     |   |                     |   |                     |
+---------------------+   +---------------------+   +---------------------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  Infrastructure     |   |  Infrastructure     |   |  Infrastructure     |
|                     |   |                     |   |                     |
+---------------------+   +---------------------+   +---------------------+
```

## Détail du Module Insurance

```
+---------------------+
|                     |
|  Module Insurance   |
|                     |
+----------+----------+
           |
           +------------------------+------------------------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  Auto               |   |  Life               |   |  NonLife            |
|                     |   |                     |   |                     |
+----------+----------+   +----------+----------+   +----------+----------+
           |
           +------------------------+------------------------+
           |                        |                        |
           v                        v                        v
+----------+----------+   +----------+----------+   +----------+----------+
|                     |   |                     |   |                     |
|  API                |   |  Application        |   |  Domaine            |
|                     |   |                     |   |                     |
+---------------------+   +---------------------+   +---------------------+
                                                              |
                                                              v
                                                    +----------+----------+
                                                    |                     |
                                                    |  Infrastructure     |
                                                    |                     |
                                                    +---------------------+
```

## Relations entre les Modules

```
+---------------------+     +---------------------+     +---------------------+
|                     |     |                     |     |                     |
|  Common             +---->+  Core               +---->+  Insurance          |
|                     |     |                     |     |                     |
+---------------------+     +---------------------+     +---------------------+
        ^                          ^                          |
        |                          |                          |
        +--------------------------+--------------------------+
                                   |
                                   v
                         +----------+----------+
                         |                     |
                         |  Base de données    |
                         |                     |
                         +---------------------+
```

## Flux d'Authentification

```
+---------------------+     +---------------------+     +---------------------+
|                     |     |                     |     |                     |
|  Client             +---->+  JwtAuthFilter      +---->+  SecurityService    |
|                     |     |                     |     |                     |
+---------------------+     +---------------------+     +---------------------+
                                                              |
                                                              v
                                                    +----------+----------+
                                                    |                     |
                                                    |  UserDetailsService |
                                                    |                     |
                                                    +----------+----------+
                                                              |
                                                              v
                                                    +----------+----------+
                                                    |                     |
                                                    |  UserRepository     |
                                                    |                     |
                                                    +---------------------+
```

## Flux Multi-tenant

```
+---------------------+     +---------------------+     +---------------------+
|                     |     |                     |     |                     |
|  Requête            +---->+  TenantFilter       +---->+  TenantContextHolder|
|                     |     |                     |     |                     |
+---------------------+     +---------------------+     +---------------------+
                                                              |
                                                              v
                                                    +----------+----------+
                                                    |                     |
                                                    |  TenantSpecification|
                                                    |                     |
                                                    +----------+----------+
                                                              |
                                                              v
                                                    +----------+----------+
                                                    |                     |
                                                    |  Repository         |
                                                    |                     |
                                                    +---------------------+
```

## Conclusion

Cette visualisation graphique complète l'indexation de la codebase en fournissant une représentation visuelle de l'
architecture et des relations entre les différents modules. Elle aide à comprendre rapidement la structure globale du
projet et les flux d'information entre les composants.
